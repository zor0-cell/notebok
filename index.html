<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Smart Life | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ—Ä–≥–∞–Ω–∞–π–∑–µ—Ä</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://avatars.mds.yandex.net/i?id=500318e2ce57b0542c2babc4d946ed4ff50aa0dc-3344187-images-thumbs&n=13">
    <style>
        /* –°–±—Ä–æ—Å –∏ –±–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: #0f172a;
            color: #f8fafc;
            touch-action: manipulation;
        }

        /* –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ */
        :root {
            --primary: #3b82f6;
            --primary-dark: #1d4ed8;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --purple: #8b5cf6;
            
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-surface: #334155;
            
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #94a3b8;
            
            --border: #475569;
            --radius: 12px;
            --radius-sm: 8px;
            --radius-lg: 16px;
            
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.4);
            
            --transition: all 0.2s ease;
        }

        /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è */
        #app {
            width: 100%;
            height: 100vh;
            height: -webkit-fill-available;
            display: flex;
            flex-direction: column;
            position: relative;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            padding: 16px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-shrink: 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }

        .logo-text h1 {
            font-size: 20px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo-text p {
            font-size: 12px;
            color: var(--text-muted);
        }

        .header-controls {
            display: flex;
            gap: 8px;
        }

        .header-btn {
            width: 40px;
            height: 40px;
            border-radius: var(--radius);
            background: var(--bg-surface);
            border: none;
            color: var(--text-secondary);
            font-size: 18px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .header-btn:active {
            transform: scale(0.95);
            background: var(--primary);
            color: white;
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */
        .main-content {
            flex: 1;
            overflow: hidden;
            position: relative;
        }

        /* –ü–∞–Ω–µ–ª—å –≤–∫–ª–∞–¥–æ–∫ */
        .tabs {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            height: 70px;
            background: var(--bg-card);
            border-top: 1px solid var(--border);
            display: flex;
            padding: 8px;
            gap: 4px;
            z-index: 100;
        }

        .tab-btn {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 4px;
            background: transparent;
            border: none;
            color: var(--text-muted);
            font-size: 12px;
            cursor: pointer;
            border-radius: var(--radius);
            padding: 8px 4px;
            transition: var(--transition);
        }

        .tab-btn i {
            font-size: 20px;
        }

        .tab-btn.active {
            color: var(--primary);
            background: rgba(59, 130, 246, 0.1);
        }

        .tab-btn:active {
            transform: scale(0.95);
        }

        /* –í–∏–¥—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
        .view {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding: 16px;
            padding-bottom: 80px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .view.active {
            opacity: 1;
            pointer-events: all;
        }

        /* –ö–∞—Ä—Ç–æ—á–∫–∏ */
        .card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid var(--border);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .btn {
            padding: 10px 16px;
            border-radius: var(--radius);
            border: none;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:active {
            background: var(--primary-dark);
            transform: scale(0.98);
        }

        .btn-secondary {
            background: var(--bg-surface);
            color: var(--text-primary);
        }

        .btn-secondary:active {
            background: var(--border);
            transform: scale(0.98);
        }

        .btn-success {
            background: var(--secondary);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        /* –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ */
        .welcome-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            text-align: center;
        }

        .welcome-card h2 {
            font-size: 22px;
            margin-bottom: 8px;
        }

        .welcome-card p {
            opacity: 0.9;
            font-size: 14px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .stat-item {
            background: var(--bg-surface);
            border-radius: var(--radius);
            padding: 16px;
            text-align: center;
        }

        .stat-number {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--text-muted);
            text-transform: uppercase;
        }

        .modules-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }

        .module-btn {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 16px 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            color: var(--text-primary);
            text-decoration: none;
            transition: var(--transition);
        }

        .module-btn:active {
            transform: scale(0.98);
            background: var(--bg-surface);
        }

        .module-icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }

        .module-text {
            font-size: 12px;
            font-weight: 500;
            text-align: center;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–¥–∞—á */
        .tasks-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .task-tab {
            flex: 1;
            padding: 12px;
            background: var(--bg-surface);
            border: none;
            border-radius: var(--radius);
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .task-tab.active {
            background: var(--primary);
            color: white;
        }

        .task-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .task-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 16px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            transition: var(--transition);
        }

        .task-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border);
            border-radius: 6px;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: var(--transition);
        }

        .task-checkbox.checked {
            background: var(--secondary);
            border-color: var(--secondary);
        }

        .task-checkbox.checked::after {
            content: '‚úì';
            color: white;
            font-size: 14px;
        }

        .task-content {
            flex: 1;
        }

        .task-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
            word-break: break-word;
        }

        .task-title.completed {
            text-decoration: line-through;
            color: var(--text-muted);
        }

        .task-meta {
            display: flex;
            gap: 12px;
            font-size: 12px;
            color: var(--text-muted);
        }

        .task-priority {
            padding: 2px 8px;
            border-radius: 10px;
            font-size: 11px;
            font-weight: 500;
        }

        .priority-high {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
        }

        .priority-medium {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }

        .priority-low {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .task-actions {
            display: flex;
            gap: 8px;
        }

        .task-action-btn {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-sm);
            background: var(--bg-surface);
            border: none;
            color: var(--text-secondary);
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .task-action-btn:active {
            transform: scale(0.95);
        }

        /* –ö–∞–ª–µ–Ω–¥–∞—Ä—å */
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .calendar-nav {
            display: flex;
            gap: 8px;
        }

        .calendar-month {
            font-size: 18px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            margin-bottom: 20px;
        }

        .calendar-day-header {
            text-align: center;
            padding: 8px;
            font-size: 12px;
            color: var(--text-muted);
            font-weight: 500;
        }

        .calendar-day {
            aspect-ratio: 1;
            background: var(--bg-surface);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            color: var(--text-primary);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .calendar-day:hover {
            background: var(--border);
        }

        .calendar-day.today {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }

        .calendar-day.selected {
            background: var(--secondary);
            color: white;
            font-weight: 600;
        }

        .calendar-day.has-tasks::after {
            content: '';
            position: absolute;
            bottom: 4px;
            width: 4px;
            height: 4px;
            background: var(--primary);
            border-radius: 50%;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤ */
        .subject-selector {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            margin-bottom: 20px;
            padding-bottom: 8px;
        }

        .subject-btn {
            padding: 10px 16px;
            background: var(--bg-surface);
            border: none;
            border-radius: 20px;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            white-space: nowrap;
            flex-shrink: 0;
            transition: var(--transition);
        }

        .subject-btn.active {
            background: var(--primary);
            color: white;
        }

        .subject-btn:active {
            transform: scale(0.95);
        }

        .notes-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .note-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 16px;
            cursor: pointer;
            transition: var(--transition);
        }

        .note-item:active {
            transform: scale(0.99);
            background: var(--bg-surface);
        }

        .note-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 8px;
        }

        .note-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .note-date {
            font-size: 12px;
            color: var(--text-muted);
        }

        .note-content {
            color: var(--text-secondary);
            font-size: 14px;
            line-height: 1.5;
            margin-bottom: 12px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .note-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        .tag {
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary);
            padding: 4px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-muted);
        }

        .empty-state i {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤ */
        .balance-card {
            background: linear-gradient(135deg, var(--secondary), #34d399);
            color: white;
            text-align: center;
        }

        .balance-amount {
            font-size: 36px;
            font-weight: 800;
            margin: 12px 0;
        }

        .balance-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 16px;
        }

        .stat-positive {
            color: #10b981;
        }

        .stat-negative {
            color: var(--danger);
        }

        .transactions-list {
            margin-top: 20px;
        }

        .transaction-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .transaction-info {
            flex: 1;
        }

        .transaction-name {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .transaction-category {
            font-size: 12px;
            color: var(--text-muted);
        }

        .transaction-amount {
            font-size: 16px;
            font-weight: 700;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-top: 20px;
        }

        .category-btn {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 12px 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: var(--transition);
        }

        .category-btn:active {
            transform: scale(0.95);
            background: var(--bg-surface);
        }

        .category-icon {
            font-size: 20px;
        }

        .category-name {
            font-size: 11px;
            color: var(--text-secondary);
            text-align: center;
        }

        /* –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞ */
        .mood-selector {
            display: flex;
            gap: 12px;
            overflow-x: auto;
            margin-bottom: 20px;
            padding-bottom: 8px;
        }

        .mood-btn {
            background: var(--bg-surface);
            border: none;
            border-radius: var(--radius);
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            min-width: 80px;
            cursor: pointer;
            transition: var(--transition);
        }

        .mood-btn:active {
            transform: scale(0.95);
        }

        .mood-btn.active {
            background: var(--primary);
            color: white;
        }

        .mood-emoji {
            font-size: 24px;
        }

        .mood-label {
            font-size: 12px;
        }

        .diary-editor {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 16px;
            margin-top: 20px;
        }

        .diary-textarea {
            width: 100%;
            min-height: 120px;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 16px;
            line-height: 1.5;
            resize: none;
            outline: none;
            font-family: inherit;
        }

        .diary-textarea::placeholder {
            color: var(--text-muted);
        }

        .diary-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }

        /* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */
        .settings-list {
            display: flex;
            flex-direction: column;
            gap: 1px;
            background: var(--bg-surface);
            border-radius: var(--radius);
            overflow: hidden;
        }

        .settings-item {
            background: var(--bg-card);
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .settings-item:active {
            background: var(--bg-surface);
        }

        .settings-label {
            font-size: 15px;
            color: var(--text-primary);
        }

        /* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 16px;
        }

        .modal-overlay.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .modal-close {
            width: 36px;
            height: 36px;
            border-radius: var(--radius);
            background: var(--bg-surface);
            border: none;
            color: var(--text-secondary);
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:active {
            transform: scale(0.95);
        }

        .modal-body {
            padding: 20px;
        }

        /* –§–æ—Ä–º—ã */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text-primary);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px 16px;
            background: var(--bg-surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text-primary);
            font-size: 16px;
            resize: vertical;
            font-family: inherit;
        }

        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-select {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text-primary);
            font-size: 16px;
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%2394a3b8'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 16px center;
            background-size: 20px;
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--secondary);
            color: white;
            padding: 12px 20px;
            border-radius: var(--radius);
            font-size: 14px;
            font-weight: 500;
            box-shadow: var(--shadow-lg);
            z-index: 2000;
            animation: slideInRight 0.3s ease;
            max-width: 300px;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* –•–µ–ª–ø–µ—Ä—ã */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .mt-20 {
            margin-top: 20px;
        }

        .mb-20 {
            margin-bottom: 20px;
        }

        /* –°–∫—Ä—ã–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        .view::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-brain"></i>
                </div>
                <div class="logo-text">
                    <h1>Smart Life</h1>
                    <p>–í—Å–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ</p>
                </div>
            </div>
            <div class="header-controls">
                <button class="header-btn" id="addBtn">
                    <i class="fas fa-plus"></i>
                </button>
                <button class="header-btn" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <div class="main-content">
            <!-- –ì–ª–∞–≤–Ω–∞—è -->
            <div class="view active" id="homeView">
                <div class="card welcome-card">
                    <h2 id="greetingText">–î–æ–±—Ä—ã–π –¥–µ–Ω—å!</h2>
                    <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤—Å–µ–º–∏ –∫–∞–Ω—Å–ø–µ–∫—Ç–∞–º–∏ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏</p>
                </div>

                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="notesCount">0</div>
                        <div class="stat-label">–ö–æ–Ω—Å–ø–µ–∫—Ç–æ–≤</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="balanceAmount">0 ‚ÇΩ</div>
                        <div class="stat-label">–ë–∞–ª–∞–Ω—Å</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="tasksToday">0</div>
                        <div class="stat-label">–ó–∞–¥–∞—á–∏ —Å–µ–≥–æ–¥–Ω—è</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="productivityScore">0%</div>
                        <div class="stat-label">–ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">–ú–æ–¥—É–ª–∏</div>
                    </div>
                    <div class="modules-grid">
                        <button class="module-btn" data-module="tasks">
                            <div class="module-icon" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa);">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div class="module-text">–ó–∞–¥–∞—á–∏</div>
                        </button>
                        <button class="module-btn" data-module="calendar">
                            <div class="module-icon" style="background: linear-gradient(135deg, #3b82f6, #60a5fa);">
                                <i class="fas fa-calendar"></i>
                            </div>
                            <div class="module-text">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</div>
                        </button>
                        <button class="module-btn" data-module="study">
                            <div class="module-icon" style="background: linear-gradient(135deg, #10b981, #34d399);">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="module-text">–£—á–µ–±–∞</div>
                        </button>
                        <button class="module-btn" data-module="finance">
                            <div class="module-icon" style="background: linear-gradient(135deg, #f59e0b, #fbbf24);">
                                <i class="fas fa-wallet"></i>
                            </div>
                            <div class="module-text">–§–∏–Ω–∞–Ω—Å—ã</div>
                        </button>
                        <button class="module-btn" data-module="diary">
                            <div class="module-icon" style="background: linear-gradient(135deg, #ec4899, #f472b6);">
                                <i class="fas fa-feather-alt"></i>
                            </div>
                            <div class="module-text">–î–Ω–µ–≤–Ω–∏–∫</div>
                        </button>
                        <button class="module-btn" data-module="settings">
                            <div class="module-icon" style="background: linear-gradient(135deg, #64748b, #94a3b8);">
                                <i class="fas fa-cog"></i>
                            </div>
                            <div class="module-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ó–∞–¥–∞—á–∏ -->
            <div class="view" id="tasksView">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">–ú–æ–∏ –∑–∞–¥–∞—á–∏</div>
                        <button class="btn btn-primary" id="addTaskBtn">
                            <i class="fas fa-plus"></i>
                            –î–æ–±–∞–≤–∏—Ç—å
                        </button>
                    </div>
                    <div class="tasks-tabs">
                        <button class="task-tab active" data-type="daily">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ</button>
                        <button class="task-tab" data-type="monthly">–ú–µ—Å—è—á–Ω—ã–µ</button>
                        <button class="task-tab" data-type="completed">–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</button>
                    </div>
                    <div class="task-list" id="taskList">
                        <!-- –ó–∞–¥–∞—á–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>

            <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
            <div class="view" id="calendarView">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</div>
                    </div>
                    <div class="calendar-header">
                        <div class="calendar-nav">
                            <button class="header-btn" id="prevMonth">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="header-btn" id="todayBtn">
                                –°–µ–≥–æ–¥–Ω—è
                            </button>
                            <button class="header-btn" id="nextMonth">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                        <div class="calendar-month" id="currentMonth"></div>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <div id="calendarTasks">
                        <!-- –ó–∞–¥–∞—á–∏ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å -->
                    </div>
                </div>
            </div>

            <!-- –£—á–µ–±–∞ -->
            <div class="view" id="studyView">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">–ö–æ–Ω—Å–ø–µ–∫—Ç—ã</div>
                        <button class="btn btn-primary" id="addNoteBtn">
                            <i class="fas fa-plus"></i>
                            –î–æ–±–∞–≤–∏—Ç—å
                        </button>
                    </div>
                    <div class="subject-selector" id="subjectSelector">
                        <!-- –ü—Ä–µ–¥–º–µ—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                    <div class="notes-list" id="notesList">
                        <!-- –ö–æ–Ω—Å–ø–µ–∫—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>
            </div>

            <!-- –§–∏–Ω–∞–Ω—Å—ã -->
            <div class="view" id="financeView">
                <div class="card balance-card">
                    <div>–¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å</div>
                    <div class="balance-amount" id="currentBalance">0 ‚ÇΩ</div>
                    <div class="balance-stats">
                        <div>
                            <div class="stat-positive" id="monthIncome">+0 ‚ÇΩ</div>
                            <div style="font-size: 12px;">–î–æ—Ö–æ–¥</div>
                        </div>
                        <div>
                            <div class="stat-negative" id="monthExpense">-0 ‚ÇΩ</div>
                            <div style="font-size: 12px;">–†–∞—Å—Ö–æ–¥</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</div>
                        <button class="btn btn-primary" id="addTransactionBtn">
                            <i class="fas fa-plus"></i>
                            –î–æ–±–∞–≤–∏—Ç—å
                        </button>
                    </div>
                    <div class="transactions-list" id="transactionsList">
                        <!-- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                    </div>
                </div>

                <div class="categories-grid" id="categoriesGrid">
                    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>

            <!-- –î–Ω–µ–≤–Ω–∏–∫ -->
            <div class="view" id="diaryView">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–Ω—è</div>
                    </div>
                    <div class="mood-selector" id="moodSelector">
                        <button class="mood-btn active" data-mood="happy">
                            <div class="mood-emoji">üòä</div>
                            <div class="mood-label">–•–æ—Ä–æ—à–æ</div>
                        </button>
                        <button class="mood-btn" data-mood="neutral">
                            <div class="mood-emoji">üòê</div>
                            <div class="mood-label">–ù–æ—Ä–º–∞–ª—å–Ω–æ</div>
                        </button>
                        <button class="mood-btn" data-mood="sad">
                            <div class="mood-emoji">üò¢</div>
                            <div class="mood-label">–ì—Ä—É—Å—Ç–Ω–æ</div>
                        </button>
                        <button class="mood-btn" data-mood="stressed">
                            <div class="mood-emoji">üò´</div>
                            <div class="mood-label">–°—Ç—Ä–µ—Å—Å</div>
                        </button>
                    </div>
                </div>

                <div class="diary-editor">
                    <textarea class="diary-textarea" id="diaryText" 
                              placeholder="–ß—Ç–æ —É –≤–∞—Å –Ω–∞ —É–º–µ? –ó–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–∏ –º—ã—Å–ª–∏ –∏ –∏–¥–µ–∏..."></textarea>
                    <div class="diary-actions">
                        <button class="btn btn-primary" id="saveDiaryBtn">
                            <i class="fas fa-save"></i>
                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        </button>
                        <button class="btn btn-secondary" id="clearDiaryBtn">
                            <i class="fas fa-eraser"></i>
                            –û—á–∏—Å—Ç–∏—Ç—å
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
            <div class="view" id="settingsView">
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
                    </div>
                    <div class="settings-list">
                        <div class="settings-item" data-action="export">
                            <div class="settings-label">–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</div>
                            <i class="fas fa-download"></i>
                        </div>
                        <div class="settings-item" data-action="import">
                            <div class="settings-label">–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</div>
                            <i class="fas fa-upload"></i>
                        </div>
                        <div class="settings-item" data-action="backup">
                            <div class="settings-label">–°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é</div>
                            <i class="fas fa-cloud"></i>
                        </div>
                        <div class="settings-item" data-action="clear">
                            <div class="settings-label">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</div>
                            <i class="fas fa-trash"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å –≤–∫–ª–∞–¥–æ–∫ -->
        <div class="tabs">
            <button class="tab-btn active" data-view="home">
                <i class="fas fa-home"></i>
                <span>–ì–ª–∞–≤–Ω–∞—è</span>
            </button>
            <button class="tab-btn" data-view="tasks">
                <i class="fas fa-tasks"></i>
                <span>–ó–∞–¥–∞—á–∏</span>
            </button>
            <button class="tab-btn" data-view="calendar">
                <i class="fas fa-calendar"></i>
                <span>–ö–∞–ª–µ–Ω–¥–∞—Ä—å</span>
            </button>
            <button class="tab-btn" data-view="finance">
                <i class="fas fa-wallet"></i>
                <span>–§–∏–Ω–∞–Ω—Å—ã</span>
            </button>
            <button class="tab-btn" data-view="diary">
                <i class="fas fa-feather-alt"></i>
                <span>–î–Ω–µ–≤–Ω–∏–∫</span>
            </button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
    <div class="modal-overlay" id="addTaskModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h3>
                <button class="modal-close" data-modal="addTaskModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</label>
                    <input type="text" class="form-input" id="taskTitle" placeholder="–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å?">
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–∏–ø –∑–∞–¥–∞—á–∏</label>
                    <select class="form-select" id="taskType">
                        <option value="daily">–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è</option>
                        <option value="monthly">–ú–µ—Å—è—á–Ω–∞—è</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                    <select class="form-select" id="taskPriority">
                        <option value="low">–ù–∏–∑–∫–∏–π</option>
                        <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                        <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–î–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–¥–ª—è –º–µ—Å—è—á–Ω—ã—Ö –∑–∞–¥–∞—á)</label>
                    <input type="date" class="form-input" id="taskDueDate">
                </div>
                <div class="form-group">
                    <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                    <textarea class="form-textarea" id="taskDescription" rows="3" placeholder="–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏..."></textarea>
                </div>
                <button class="btn btn-primary" id="saveTaskBtn" style="width: 100%;">
                    <i class="fas fa-save"></i>
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–¥–∞—á—É
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å–ø–µ–∫—Ç–∞ -->
    <div class="modal-overlay" id="addNoteModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">–ù–æ–≤—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç</h3>
                <button class="modal-close" data-modal="addNoteModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">–ü—Ä–µ–¥–º–µ—Ç</label>
                    <input type="text" class="form-input" id="noteSubject" placeholder="–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞, –§–∏–∑–∏–∫–∞...">
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–µ–º–∞</label>
                    <input type="text" class="form-input" id="noteTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–º—ã">
                </div>
                <div class="form-group">
                    <label class="form-label">–ö–æ–Ω—Å–ø–µ–∫—Ç</label>
                    <textarea class="form-textarea" id="noteContent" rows="6" placeholder="–ó–∞–ø–∏—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã..."></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">–¢–µ–≥–∏ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)</label>
                    <input type="text" class="form-input" id="noteTags" placeholder="–≤–∞–∂–Ω–æ–µ, —Ñ–æ—Ä–º—É–ª—ã, —ç–∫–∑–∞–º–µ–Ω">
                </div>
                <button class="btn btn-primary" id="saveNoteBtn" style="width: 100%;">
                    <i class="fas fa-save"></i>
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–æ–Ω—Å–ø–µ–∫—Ç
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ -->
    <div class="modal-overlay" id="addTransactionModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">–ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è</h3>
                <button class="modal-close" data-modal="addTransactionModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">–¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏</label>
                    <select class="form-select" id="transactionType">
                        <option value="expense">–†–∞—Å—Ö–æ–¥</option>
                        <option value="income">–î–æ—Ö–æ–¥</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–°—É–º–º–∞ (‚ÇΩ)</label>
                    <input type="number" class="form-input" id="transactionAmount" placeholder="0">
                </div>
                <div class="form-group">
                    <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</label>
                    <select class="form-select" id="transactionCategory">
                        <option value="food">–ï–¥–∞</option>
                        <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                        <option value="shopping">–ü–æ–∫—É–ø–∫–∏</option>
                        <option value="entertainment">–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è</option>
                        <option value="education">–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</option>
                        <option value="salary">–ó–∞—Ä–ø–ª–∞—Ç–∞</option>
                        <option value="other">–î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                    <input type="text" class="form-input" id="transactionDescription" placeholder="–ö—É–ø–∏–ª –ø—Ä–æ–¥—É–∫—Ç—ã">
                </div>
                <div class="form-group">
                    <label class="form-label">–î–∞—Ç–∞</label>
                    <input type="date" class="form-input" id="transactionDate">
                </div>
                <button class="btn btn-primary" id="saveTransactionBtn" style="width: 100%;">
                    <i class="fas fa-save"></i>
                    –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª–∫–∞ –ø–æ–∏—Å–∫–∞ -->
    <div class="modal-overlay" id="searchModal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">–ü–æ–∏—Å–∫</h3>
                <button class="modal-close" data-modal="searchModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <input type="text" class="form-input" id="searchInput" placeholder="–ò—Å–∫–∞—Ç—å –∑–∞–¥–∞—á–∏, –∫–æ–Ω—Å–ø–µ–∫—Ç—ã, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏...">
                </div>
                <div id="searchResults">
                    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div id="notificationContainer"></div>

    <script>
        // Smart Life Organizer App
        class SmartLifeOrganizer {
            constructor() {
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
                this.data = {
                    tasks: [],          // –ó–∞–¥–∞—á–∏ (–µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –∏ –º–µ—Å—è—á–Ω—ã–µ)
                    notes: [],          // –ö–æ–Ω—Å–ø–µ–∫—Ç—ã
                    transactions: [],   // –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
                    diary: [],          // –î–Ω–µ–≤–Ω–∏–∫–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏
                    categories: {       // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤/–¥–æ—Ö–æ–¥–æ–≤
                        expense: [
                            { id: 'food', name: '–ï–¥–∞', icon: 'üçî', color: '#ef4444' },
                            { id: 'transport', name: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç', icon: 'üöó', color: '#f59e0b' },
                            { id: 'shopping', name: '–ü–æ–∫—É–ø–∫–∏', icon: 'üõçÔ∏è', color: '#8b5cf6' },
                            { id: 'entertainment', name: '–†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è', icon: 'üéÆ', color: '#ec4899' },
                            { id: 'education', name: '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ', icon: 'üìö', color: '#3b82f6' },
                            { id: 'other', name: '–î—Ä—É–≥–æ–µ', icon: 'üìù', color: '#94a3b8' }
                        ],
                        income: [
                            { id: 'salary', name: '–ó–∞—Ä–ø–ª–∞—Ç–∞', icon: 'üí∞', color: '#10b981' },
                            { id: 'freelance', name: '–§—Ä–∏–ª–∞–Ω—Å', icon: 'üíº', color: '#10b981' },
                            { id: 'gift', name: '–ü–æ–¥–∞—Ä–æ–∫', icon: 'üéÅ', color: '#10b981' },
                            { id: 'other', name: '–î—Ä—É–≥–æ–µ', icon: 'üìù', color: '#10b981' }
                        ]
                    }
                };
                
                this.currentView = 'home';
                this.currentTaskType = 'daily';
                this.currentMood = 'happy';
                this.currentDate = new Date();
                
                // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
                this.init();
            }
            
            init() {
                // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ localStorage
                this.loadData();
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                this.setupUI();
                this.setupEventListeners();
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                this.updateDashboard();
                this.renderTasks();
                this.renderCalendar();
                this.renderNotes();
                this.renderTransactions();
                
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π –¥–∞—Ç—ã
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('transactionDate').value = today;
                document.getElementById('taskDueDate').value = today;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
                this.updateGreeting();
            }
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
            loadData() {
                try {
                    const saved = localStorage.getItem('smart-life-data');
                    if (saved) {
                        const data = JSON.parse(saved);
                        this.data.tasks = data.tasks || [];
                        this.data.notes = data.notes || [];
                        this.data.transactions = data.transactions || [];
                        this.data.diary = data.diary || [];
                    }
                } catch (error) {
                    console.log('–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏');
                }
            }
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            saveData() {
                try {
                    const data = {
                        tasks: this.data.tasks,
                        notes: this.data.notes,
                        transactions: this.data.transactions,
                        diary: this.data.diary,
                        lastSaved: new Date().toISOString()
                    };
                    localStorage.setItem('smart-life-data', JSON.stringify(data));
                } catch (error) {
                    this.showNotification('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö', 'error');
                }
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ UI
            setupUI() {
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –≤–∫–ª–∞–¥–∫—É
                this.switchView('home');
            }
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
            setupEventListeners() {
                // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –≤–∫–ª–∞–¥–∫–∞–º
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const view = e.currentTarget.dataset.view;
                        this.switchView(view);
                    });
                });
                
                // –ú–æ–¥—É–ª–∏ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π
                document.querySelectorAll('.module-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const module = e.currentTarget.dataset.module;
                        this.openModule(module);
                    });
                });
                
                // –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ —à–∞–ø–∫–µ
                document.getElementById('addBtn').addEventListener('click', () => {
                    this.handleAddButton();
                });
                
                // –ö–Ω–æ–ø–∫–∞ –ø–æ–∏—Å–∫–∞
                document.getElementById('searchBtn').addEventListener('click', () => {
                    this.showModal('searchModal');
                });
                
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
                document.getElementById('addTaskBtn').addEventListener('click', () => {
                    this.showModal('addTaskModal');
                });
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
                document.getElementById('saveTaskBtn').addEventListener('click', () => {
                    this.saveTask();
                });
                
                // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–¥–∞—á
                document.querySelectorAll('.task-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        const type = e.currentTarget.dataset.type;
                        this.switchTaskType(type);
                    });
                });
                
                // –ö–∞–ª–µ–Ω–¥–∞—Ä—å
                document.getElementById('prevMonth').addEventListener('click', () => {
                    this.currentDate.setMonth(this.currentDate.getMonth() - 1);
                    this.renderCalendar();
                });
                
                document.getElementById('nextMonth').addEventListener('click', () => {
                    this.currentDate.setMonth(this.currentDate.getMonth() + 1);
                    this.renderCalendar();
                });
                
                document.getElementById('todayBtn').addEventListener('click', () => {
                    this.currentDate = new Date();
                    this.renderCalendar();
                });
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞
                document.getElementById('saveNoteBtn').addEventListener('click', () => {
                    this.saveNote();
                });
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
                document.getElementById('saveTransactionBtn').addEventListener('click', () => {
                    this.saveTransaction();
                });
                
                // –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å–ø–µ–∫—Ç–∞
                document.getElementById('addNoteBtn').addEventListener('click', () => {
                    this.showModal('addNoteModal');
                });
                
                // –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
                document.getElementById('addTransactionBtn').addEventListener('click', () => {
                    this.showModal('addTransactionModal');
                });
                
                // –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
                document.querySelectorAll('.mood-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const mood = e.currentTarget.dataset.mood;
                        this.setMood(mood);
                    });
                });
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–∞
                document.getElementById('saveDiaryBtn').addEventListener('click', () => {
                    this.saveDiary();
                });
                
                // –û—á–∏—Å—Ç–∫–∞ –¥–Ω–µ–≤–Ω–∏–∫–∞
                document.getElementById('clearDiaryBtn').addEventListener('click', () => {
                    document.getElementById('diaryText').value = '';
                });
                
                // –ü–æ–∏—Å–∫
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    this.search(e.target.value);
                });
                
                // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
                document.querySelectorAll('.settings-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        const action = e.currentTarget.dataset.action;
                        this.handleSettingsAction(action);
                    });
                });
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫
                document.querySelectorAll('.modal-close').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const modalId = e.currentTarget.dataset.modal;
                        this.hideModal(modalId);
                    });
                });
                
                // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–æ–∫ –ø–æ –∫–ª–∏–∫—É –Ω–∞ –æ–≤–µ—Ä–ª–µ–π
                document.querySelectorAll('.modal-overlay').forEach(modal => {
                    modal.addEventListener('click', (e) => {
                        if (e.target === modal) {
                            this.hideModal(modal.id);
                        }
                    });
                });
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∏–¥–∞
            switchView(view) {
                this.currentView = view;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.view === view) {
                        btn.classList.add('active');
                    }
                });
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω—ã–π –≤–∏–¥
                document.querySelectorAll('.view').forEach(viewElement => {
                    viewElement.classList.remove('active');
                });
                document.getElementById(`${view}View`).classList.add('active');
            }
            
            // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥—É–ª—è
            openModule(module) {
                this.switchView(module);
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è
            updateGreeting() {
                const hour = new Date().getHours();
                let greeting;
                
                if (hour < 6) greeting = '–î–æ–±—Ä–æ–π –Ω–æ—á–∏!';
                else if (hour < 12) greeting = '–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ!';
                else if (hour < 18) greeting = '–î–æ–±—Ä—ã–π –¥–µ–Ω—å!';
                else greeting = '–î–æ–±—Ä—ã–π –≤–µ—á–µ—Ä!';
                
                document.getElementById('greetingText').textContent = greeting;
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞
            updateDashboard() {
                // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤
                document.getElementById('notesCount').textContent = this.data.notes.length;
                
                // –ë–∞–ª–∞–Ω—Å
                let totalIncome = 0;
                let totalExpense = 0;
                
                this.data.transactions.forEach(transaction => {
                    if (transaction.type === 'income') {
                        totalIncome += transaction.amount;
                    } else {
                        totalExpense += transaction.amount;
                    }
                });
                
                const balance = totalIncome - totalExpense;
                document.getElementById('balanceAmount').textContent = balance + ' ‚ÇΩ';
                
                // –ó–∞–¥–∞—á–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
                const today = new Date().toISOString().split('T')[0];
                const todayTasks = this.data.tasks.filter(task => {
                    if (task.type === 'daily') {
                        return !task.completed || task.completedDate === today;
                    } else if (task.type === 'monthly') {
                        return task.dueDate === today && !task.completed;
                    }
                    return false;
                });
                
                document.getElementById('tasksToday').textContent = todayTasks.length;
                
                // –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (–ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞)
                const completedTasks = this.data.tasks.filter(task => task.completed).length;
                const totalTasks = this.data.tasks.length;
                const productivity = totalTasks > 0 ? Math.round((completedTasks / totalTasks) * 100) : 0;
                document.getElementById('productivityScore').textContent = productivity + '%';
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                document.getElementById('currentBalance').textContent = balance + ' ‚ÇΩ';
                document.getElementById('monthIncome').textContent = '+' + totalIncome + ' ‚ÇΩ';
                document.getElementById('monthExpense').textContent = '-' + totalExpense + ' ‚ÇΩ';
            }
            
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–∫–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            handleAddButton() {
                switch(this.currentView) {
                    case 'tasks':
                        this.showModal('addTaskModal');
                        break;
                    case 'study':
                        this.showModal('addNoteModal');
                        break;
                    case 'finance':
                        this.showModal('addTransactionModal');
                        break;
                    case 'diary':
                        document.getElementById('diaryText').focus();
                        break;
                    default:
                        // –ù–∞ –≥–ª–∞–≤–Ω–æ–π - –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º
                        break;
                }
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª–∫—É
            showModal(modalId) {
                document.getElementById(modalId).classList.add('active');
            }
            
            // –°–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É
            hideModal(modalId) {
                document.getElementById(modalId).classList.remove('active');
            }
            
            // ====== –ó–ê–î–ê–ß–ò ======
            saveTask() {
                const title = document.getElementById('taskTitle').value.trim();
                const type = document.getElementById('taskType').value;
                const priority = document.getElementById('taskPriority').value;
                const dueDate = document.getElementById('taskDueDate').value;
                const description = document.getElementById('taskDescription').value.trim();
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è
                if (!title) {
                    this.showNotification('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏', 'error');
                    return;
                }
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
                const task = {
                    id: Date.now(),
                    title,
                    type,
                    priority,
                    dueDate: type === 'monthly' ? dueDate : null,
                    description,
                    completed: false,
                    completedDate: null,
                    createdAt: new Date().toISOString()
                };
                
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤
                this.data.tasks.unshift(task);
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                this.saveData();
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                this.renderTasks();
                this.updateDashboard();
                this.renderCalendar();
                
                // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
                document.getElementById('taskTitle').value = '';
                document.getElementById('taskDescription').value = '';
                
                this.hideModal('addTaskModal');
                this.showNotification('–ó–∞–¥–∞—á–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞!', 'success');
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∏–ø–∞ –∑–∞–¥–∞—á
            switchTaskType(type) {
                this.currentTaskType = type;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–π –∫–Ω–æ–ø–∫–∏
                document.querySelectorAll('.task-tab').forEach(tab => {
                    tab.classList.remove('active');
                    if (tab.dataset.type === type) {
                        tab.classList.add('active');
                    }
                });
                
                // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á
                this.renderTasks();
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á
            renderTasks() {
                const taskList = document.getElementById('taskList');
                let filteredTasks = [];
                
                const today = new Date().toISOString().split('T')[0];
                
                switch(this.currentTaskType) {
                    case 'daily':
                        filteredTasks = this.data.tasks.filter(task => 
                            task.type === 'daily' && (!task.completed || task.completedDate === today)
                        );
                        break;
                    case 'monthly':
                        filteredTasks = this.data.tasks.filter(task => 
                            task.type === 'monthly' && !task.completed
                        );
                        break;
                    case 'completed':
                        filteredTasks = this.data.tasks.filter(task => 
                            task.completed && task.completedDate !== today
                        );
                        break;
                }
                
                if (filteredTasks.length === 0) {
                    taskList.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-tasks"></i>
                            <p>–ù–µ—Ç –∑–∞–¥–∞—á</p>
                            <p style="font-size: 14px; margin-top: 8px;">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É</p>
                        </div>
                    `;
                    return;
                }
                
                taskList.innerHTML = '';
                
                filteredTasks.forEach(task => {
                    const taskElement = document.createElement('div');
                    taskElement.className = 'task-item';
                    taskElement.innerHTML = `
                        <div class="task-checkbox ${task.completed ? 'checked' : ''}" 
                             data-task-id="${task.id}"></div>
                        <div class="task-content">
                            <div class="task-title ${task.completed ? 'completed' : ''}">
                                ${task.title}
                            </div>
                            <div class="task-meta">
                                <span class="task-priority priority-${task.priority}">
                                    ${task.priority === 'high' ? '–í—ã—Å–æ–∫–∏–π' : 
                                      task.priority === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π' : '–ù–∏–∑–∫–∏–π'}
                                </span>
                                ${task.dueDate ? 
                                    `<span><i class="far fa-calendar"></i> ${task.dueDate}</span>` : 
                                    `<span><i class="fas fa-redo"></i> –ï–∂–µ–¥–Ω–µ–≤–Ω–æ</span>`
                                }
                            </div>
                            ${task.description ? 
                                `<div style="font-size: 13px; color: var(--text-muted); margin-top: 8px;">
                                    ${task.description}
                                </div>` : ''
                            }
                        </div>
                        <div class="task-actions">
                            <button class="task-action-btn delete-task" data-task-id="${task.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                    
                    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —á–µ–∫–±–æ–∫—Å–∞
                    const checkbox = taskElement.querySelector('.task-checkbox');
                    checkbox.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.toggleTaskCompletion(task.id);
                    });
                    
                    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —É–¥–∞–ª–µ–Ω–∏—è
                    const deleteBtn = taskElement.querySelector('.delete-task');
                    deleteBtn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        this.deleteTask(task.id);
                    });
                    
                    taskList.appendChild(taskElement);
                });
            }
            
            // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á–∏
            toggleTaskCompletion(taskId) {
                const task = this.data.tasks.find(t => t.id === taskId);
                if (!task) return;
                
                const today = new Date().toISOString().split('T')[0];
                
                if (task.completed && task.completedDate === today) {
                    // –°–Ω–∏–º–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
                    task.completed = false;
                    task.completedDate = null;
                } else {
                    // –û—Ç–º–µ—á–∞–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π
                    task.completed = true;
                    task.completedDate = today;
                }
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                this.saveData();
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                this.renderTasks();
                this.updateDashboard();
                this.renderCalendar();
                
                this.showNotification('–ó–∞–¥–∞—á–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞', 'success');
            }
            
            // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏
            deleteTask(taskId) {
                if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–¥–∞—á—É?')) {
                    this.data.tasks = this.data.tasks.filter(task => task.id !== taskId);
                    
                    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                    this.saveData();
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                    this.renderTasks();
                    this.updateDashboard();
                    this.renderCalendar();
                    
                    this.showNotification('–ó–∞–¥–∞—á–∞ —É–¥–∞–ª–µ–Ω–∞', 'success');
                }
            }
            
            // ====== –ö–ê–õ–ï–ù–î–ê–†–¨ ======
            renderCalendar() {
                const calendarGrid = document.getElementById('calendarGrid');
                const currentMonth = document.getElementById('currentMonth');
                
                // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –º–µ—Å—è—Ü–∞
                const months = ['–Ø–Ω–≤–∞—Ä—å', '–§–µ–≤—Ä–∞–ª—å', '–ú–∞—Ä—Ç', '–ê–ø—Ä–µ–ª—å', '–ú–∞–π', '–ò—é–Ω—å', 
                               '–ò—é–ª—å', '–ê–≤–≥—É—Å—Ç', '–°–µ–Ω—Ç—è–±—Ä—å', '–û–∫—Ç—è–±—Ä—å', '–ù–æ—è–±—Ä—å', '–î–µ–∫–∞–±—Ä—å'];
                const year = this.currentDate.getFullYear();
                const month = this.currentDate.getMonth();
                currentMonth.textContent = `${months[month]} ${year}`;
                
                // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞
                const firstDay = new Date(year, month, 1);
                // –ü–æ–ª—É—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞
                const lastDay = new Date(year, month + 1, 0);
                // –ü–æ–ª—É—á–∞–µ–º –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è (0 - –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ, 1 - –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫...)
                const firstDayIndex = firstDay.getDay();
                // –ü–æ–ª—É—á–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤ –º–µ—Å—è—Ü–µ
                const daysInMonth = lastDay.getDate();
                
                // –û—á–∏—â–∞–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—å
                calendarGrid.innerHTML = '';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
                const daysOfWeek = ['–í—Å', '–ü–Ω', '–í—Ç', '–°—Ä', '–ß—Ç', '–ü—Ç', '–°–±'];
                daysOfWeek.forEach(day => {
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'calendar-day-header';
                    dayHeader.textContent = day;
                    calendarGrid.appendChild(dayHeader);
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –¥–Ω–µ–º –º–µ—Å—è—Ü–∞
                for (let i = 0; i < firstDayIndex; i++) {
                    const emptyDay = document.createElement('div');
                    emptyDay.className = 'calendar-day';
                    calendarGrid.appendChild(emptyDay);
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –¥–Ω–∏ –º–µ—Å—è—Ü–∞
                const today = new Date();
                const todayStr = today.toISOString().split('T')[0];
                
                for (let day = 1; day <= daysInMonth; day++) {
                    const date = new Date(year, month, day);
                    const dateStr = date.toISOString().split('T')[0];
                    
                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = day;
                    dayElement.dataset.date = dateStr;
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∑–∞–¥–∞—á–∏ –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å
                    const hasTasks = this.data.tasks.some(task => {
                        if (task.type === 'daily') {
                            return !task.completed || task.completedDate === dateStr;
                        } else if (task.type === 'monthly') {
                            return task.dueDate === dateStr && !task.completed;
                        }
                        return false;
                    });
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã
                    if (dateStr === todayStr) {
                        dayElement.classList.add('today');
                    }
                    
                    if (hasTasks) {
                        dayElement.classList.add('has-tasks');
                    }
                    
                    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
                    dayElement.addEventListener('click', () => {
                        this.showDayTasks(dateStr);
                    });
                    
                    calendarGrid.appendChild(dayElement);
                }
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–¥–∞—á–∏ –Ω–∞ –¥–µ–Ω—å
            showDayTasks(dateStr) {
                const calendarTasks = document.getElementById('calendarTasks');
                const date = new Date(dateStr);
                const formattedDate = date.toLocaleDateString('ru-RU', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });
                
                // –ü–æ–ª—É—á–∞–µ–º –∑–∞–¥–∞—á–∏ –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å
                const dayTasks = this.data.tasks.filter(task => {
                    if (task.type === 'daily') {
                        return !task.completed || task.completedDate === dateStr;
                    } else if (task.type === 'monthly') {
                        return task.dueDate === dateStr && !task.completed;
                    }
                    return false;
                });
                
                if (dayTasks.length === 0) {
                    calendarTasks.innerHTML = `
                        <div class="empty-state">
                            <i class="far fa-calendar-check"></i>
                            <p>–ù–µ—Ç –∑–∞–¥–∞—á –Ω–∞ ${formattedDate}</p>
                        </div>
                    `;
                    return;
                }
                
                let tasksHTML = `
                    <div class="card mt-20">
                        <div class="card-header">
                            <div class="card-title">–ó–∞–¥–∞—á–∏ –Ω–∞ ${formattedDate}</div>
                        </div>
                        <div class="task-list">
                `;
                
                dayTasks.forEach(task => {
                    tasksHTML += `
                        <div class="task-item">
                            <div class="task-checkbox ${task.completed ? 'checked' : ''}" 
                                 data-task-id="${task.id}"></div>
                            <div class="task-content">
                                <div class="task-title ${task.completed ? 'completed' : ''}">
                                    ${task.title}
                                </div>
                                <div class="task-meta">
                                    <span class="task-priority priority-${task.priority}">
                                        ${task.priority === 'high' ? '–í—ã—Å–æ–∫–∏–π' : 
                                          task.priority === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π' : '–ù–∏–∑–∫–∏–π'}
                                    </span>
                                    <span>${task.type === 'daily' ? '–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è' : '–ú–µ—Å—è—á–Ω–∞—è'}</span>
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                tasksHTML += `
                        </div>
                    </div>
                `;
                
                calendarTasks.innerHTML = tasksHTML;
                
                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —á–µ–∫–±–æ–∫—Å–æ–≤
                document.querySelectorAll('#calendarTasks .task-checkbox').forEach(checkbox => {
                    const taskId = parseInt(checkbox.dataset.taskId);
                    checkbox.addEventListener('click', () => {
                        this.toggleTaskCompletion(taskId);
                    });
                });
            }
            
            // ====== –ö–û–ù–°–ü–ï–ö–¢–´ ======
            saveNote() {
                const subject = document.getElementById('noteSubject').value.trim();
                const title = document.getElementById('noteTitle').value.trim();
                const content = document.getElementById('noteContent').value.trim();
                const tags = document.getElementById('noteTags').value.split(',').map(t => t.trim()).filter(t => t);
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è
                if (!subject || !title || !content) {
                    this.showNotification('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'error');
                    return;
                }
                
                // –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞
                const note = {
                    id: Date.now(),
                    subject,
                    title,
                    content,
                    tags,
                    created: new Date().toISOString(),
                    updated: new Date().toISOString()
                };
                
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤
                this.data.notes.unshift(note);
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                this.saveData();
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                this.renderNotes();
                this.updateDashboard();
                
                // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
                document.getElementById('noteSubject').value = '';
                document.getElementById('noteTitle').value = '';
                document.getElementById('noteContent').value = '';
                document.getElementById('noteTags').value = '';
                
                this.hideModal('addNoteModal');
                this.showNotification('–ö–æ–Ω—Å–ø–µ–∫—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω!', 'success');
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤
            renderNotes() {
                const notesList = document.getElementById('notesList');
                const subjectSelector = document.getElementById('subjectSelector');
                
                // –ü–æ–ª—É—á–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã
                const subjects = [...new Set(this.data.notes.map(note => note.subject))];
                
                // –û—á–∏—â–∞–µ–º –∏ —Å–æ–∑–¥–∞–µ–º —Ñ–∏–ª—å—Ç—Ä—ã –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º
                subjectSelector.innerHTML = '';
                
                // –ö–Ω–æ–ø–∫–∞ "–í—Å–µ"
                const allBtn = document.createElement('button');
                allBtn.className = 'subject-btn active';
                allBtn.textContent = '–í—Å–µ';
                allBtn.dataset.subject = 'all';
                allBtn.addEventListener('click', (e) => {
                    document.querySelectorAll('.subject-btn').forEach(btn => btn.classList.remove('active'));
                    e.currentTarget.classList.add('active');
                    this.filterNotes('all');
                });
                subjectSelector.appendChild(allBtn);
                
                // –ö–Ω–æ–ø–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–µ–¥–º–µ—Ç–∞
                subjects.forEach(subject => {
                    const btn = document.createElement('button');
                    btn.className = 'subject-btn';
                    btn.textContent = subject;
                    btn.dataset.subject = subject;
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.subject-btn').forEach(btn => btn.classList.remove('active'));
                        e.currentTarget.classList.add('active');
                        this.filterNotes(subject);
                    });
                    subjectSelector.appendChild(btn);
                });
                
                // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ –∫–æ–Ω—Å–ø–µ–∫—Ç—ã
                this.filterNotes('all');
            }
            
            // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤ –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É
            filterNotes(subject) {
                const notesList = document.getElementById('notesList');
                let filteredNotes = this.data.notes;
                
                if (subject !== 'all') {
                    filteredNotes = this.data.notes.filter(note => note.subject === subject);
                }
                
                if (filteredNotes.length === 0) {
                    notesList.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-book-open"></i>
                            <p>–ù–µ—Ç –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–≤</p>
                            <p style="font-size: 14px; margin-top: 8px;">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç</p>
                        </div>
                    `;
                    return;
                }
                
                notesList.innerHTML = '';
                
                filteredNotes.forEach(note => {
                    const noteElement = document.createElement('div');
                    noteElement.className = 'note-item';
                    noteElement.innerHTML = `
                        <div class="note-header">
                            <div class="note-title">${note.subject}: ${note.title}</div>
                            <div class="note-date">${new Date(note.created).toLocaleDateString('ru-RU')}</div>
                        </div>
                        <div class="note-content">${note.content.substring(0, 100)}...</div>
                        ${note.tags.length > 0 ? `
                            <div class="note-tags">
                                ${note.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                            </div>
                        ` : ''}
                    `;
                    
                    noteElement.addEventListener('click', () => {
                        this.showNoteDetail(note);
                    });
                    
                    notesList.appendChild(noteElement);
                });
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞
            showNoteDetail(note) {
                const modal = document.createElement('div');
                modal.className = 'modal-overlay active';
                modal.innerHTML = `
                    <div class="modal">
                        <div class="modal-header">
                            <h3 class="modal-title">${note.subject}: ${note.title}</h3>
                            <button class="modal-close" onclick="this.closest('.modal-overlay').remove()">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="white-space: pre-wrap; line-height: 1.6; margin-bottom: 20px;">
                                ${note.content}
                            </div>
                            ${note.tags.length > 0 ? `
                                <div class="note-tags">
                                    ${note.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                                </div>
                            ` : ''}
                            <div style="font-size: 14px; color: var(--text-muted); margin-top: 20px;">
                                –°–æ–∑–¥–∞–Ω–æ: ${new Date(note.created).toLocaleString('ru-RU')}
                            </div>
                        </div>
                    </div>
                `;
                
                document.body.appendChild(modal);
            }
            
            // ====== –§–ò–ù–ê–ù–°–´ ======
            saveTransaction() {
                const type = document.getElementById('transactionType').value;
                const amount = parseFloat(document.getElementById('transactionAmount').value);
                const category = document.getElementById('transactionCategory').value;
                const description = document.getElementById('transactionDescription').value.trim();
                const date = document.getElementById('transactionDate').value;
                
                // –í–∞–ª–∏–¥–∞—Ü–∏—è
                if (!amount || amount <= 0) {
                    this.showNotification('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É', 'error');
                    return;
                }
                
                if (!description) {
                    this.showNotification('–í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ', 'error');
                    return;
                }
                
                // –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
                const transaction = {
                    id: Date.now(),
                    type,
                    amount,
                    category,
                    description,
                    date,
                    created: new Date().toISOString()
                };
                
                // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –º–∞—Å—Å–∏–≤
                this.data.transactions.unshift(transaction);
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                this.saveData();
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                this.renderTransactions();
                this.updateDashboard();
                
                // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã –∏ –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏
                document.getElementById('transactionAmount').value = '';
                document.getElementById('transactionDescription').value = '';
                
                this.hideModal('addTransactionModal');
                this.showNotification('–û–ø–µ—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!', 'success');
            }
            
            // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
            renderTransactions() {
                const transactionsList = document.getElementById('transactionsList');
                const recentTransactions = this.data.transactions.slice(0, 10);
                
                if (recentTransactions.length === 0) {
                    transactionsList.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-receipt"></i>
                            <p>–ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π</p>
                            <p style="font-size: 14px; margin-top: 8px;">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –æ–ø–µ—Ä–∞—Ü–∏—é</p>
                        </div>
                    `;
                    return;
                }
                
                transactionsList.innerHTML = '';
                
                recentTransactions.forEach(transaction => {
                    const category = this.data.categories[transaction.type].find(c => c.id === transaction.category);
                    const transactionElement = document.createElement('div');
                    transactionElement.className = 'transaction-item';
                    transactionElement.innerHTML = `
                        <div class="transaction-info">
                            <div class="transaction-name">${transaction.description}</div>
                            <div class="transaction-category">
                                ${category ? category.icon + ' ' + category.name : transaction.category}
                            </div>
                        </div>
                        <div class="transaction-amount ${transaction.type}">
                            ${transaction.type === 'income' ? '+' : '-'}${transaction.amount} ‚ÇΩ
                        </div>
                    `;
                    
                    transactionsList.appendChild(transactionElement);
                });
            }
            
            // ====== –î–ù–ï–í–ù–ò–ö ======
            setMood(mood) {
                this.currentMood = mood;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
                document.querySelectorAll('.mood-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (btn.dataset.mood === mood) {
                        btn.classList.add('active');
                    }
                });
            }
            
            // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–Ω–µ–≤–Ω–∏–∫
            saveDiary() {
                const content = document.getElementById('diaryText').value.trim();
                
                if (!content) {
                    this.showNotification('–ó–∞–ø–∏—Å—å –ø—É—Å—Ç–∞', 'error');
                    return;
                }
                
                const today = new Date().toISOString().split('T')[0];
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∑–∞–ø–∏—Å—å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è
                const existingIndex = this.data.diary.findIndex(entry => 
                    new Date(entry.date).toISOString().split('T')[0] === today
                );
                
                const diaryEntry = {
                    id: Date.now(),
                    date: new Date().toISOString(),
                    mood: this.currentMood,
                    content
                };
                
                if (existingIndex !== -1) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∑–∞–ø–∏—Å—å
                    this.data.diary[existingIndex] = diaryEntry;
                } else {
                    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
                    this.data.diary.unshift(diaryEntry);
                }
                
                // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                this.saveData();
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
                this.updateDashboard();
                
                // –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è
                document.getElementById('diaryText').value = '';
                
                this.showNotification('–ó–∞–ø–∏—Å—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞', 'success');
            }
            
            // ====== –ü–û–ò–°–ö ======
            search(query) {
                const searchResults = document.getElementById('searchResults');
                
                if (!query.trim()) {
                    searchResults.innerHTML = '<div class="text-center" style="color: var(--text-muted); padding: 20px;">–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</div>';
                    return;
                }
                
                const lowerQuery = query.toLowerCase();
                const results = [];
                
                // –ü–æ–∏—Å–∫ –≤ –∑–∞–¥–∞—á–∞—Ö
                this.data.tasks.forEach(task => {
                    if (task.title.toLowerCase().includes(lowerQuery) ||
                        task.description?.toLowerCase().includes(lowerQuery)) {
                        results.push({
                            type: 'task',
                            title: task.title,
                            content: task.type === 'daily' ? '–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞' : '–ú–µ—Å—è—á–Ω–∞—è –∑–∞–¥–∞—á–∞',
                            priority: task.priority,
                            data: task
                        });
                    }
                });
                
                // –ü–æ–∏—Å–∫ –≤ –∫–æ–Ω—Å–ø–µ–∫—Ç–∞—Ö
                this.data.notes.forEach(note => {
                    if (note.subject.toLowerCase().includes(lowerQuery) ||
                        note.title.toLowerCase().includes(lowerQuery) ||
                        note.content.toLowerCase().includes(lowerQuery) ||
                        note.tags.some(tag => tag.toLowerCase().includes(lowerQuery))) {
                        results.push({
                            type: 'note',
                            title: `${note.subject}: ${note.title}`,
                            content: note.content.substring(0, 80) + '...',
                            data: note
                        });
                    }
                });
                
                // –ü–æ–∏—Å–∫ –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
                this.data.transactions.forEach(transaction => {
                    if (transaction.description.toLowerCase().includes(lowerQuery) ||
                        transaction.category.toLowerCase().includes(lowerQuery)) {
                        results.push({
                            type: 'transaction',
                            title: `${transaction.type === 'income' ? '–î–æ—Ö–æ–¥' : '–†–∞—Å—Ö–æ–¥'}: ${transaction.description}`,
                            content: `${transaction.amount} ‚ÇΩ`,
                            data: transaction
                        });
                    }
                });
                
                if (results.length === 0) {
                    searchResults.innerHTML = '<div class="text-center" style="color: var(--text-muted); padding: 20px;">–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>';
                    return;
                }
                
                searchResults.innerHTML = '';
                
                results.forEach(result => {
                    const resultElement = document.createElement('div');
                    resultElement.className = 'note-item';
                    
                    let typeIcon = 'üìù';
                    if (result.type === 'task') typeIcon = '‚úÖ';
                    if (result.type === 'note') typeIcon = 'üìö';
                    if (result.type === 'transaction') typeIcon = 'üí∞';
                    
                    resultElement.innerHTML = `
                        <div class="note-header">
                            <div class="note-title">${typeIcon} ${result.title}</div>
                        </div>
                        <div class="note-content">${result.content}</div>
                        <div class="note-tags">
                            <span class="tag">${result.type === 'task' ? '–ó–∞–¥–∞—á–∞' : 
                                              result.type === 'note' ? '–ö–æ–Ω—Å–ø–µ–∫—Ç' : '–û–ø–µ—Ä–∞—Ü–∏—è'}</span>
                            ${result.priority ? 
                                `<span class="tag priority-${result.priority}">
                                    ${result.priority === 'high' ? '–í—ã—Å–æ–∫–∏–π' : 
                                      result.priority === 'medium' ? '–°—Ä–µ–¥–Ω–∏–π' : '–ù–∏–∑–∫–∏–π'}
                                </span>` : ''
                            }
                        </div>
                    `;
                    
                    resultElement.addEventListener('click', () => {
                        this.hideModal('searchModal');
                        if (result.type === 'task') {
                            this.switchView('tasks');
                        } else if (result.type === 'note') {
                            this.switchView('study');
                            this.showNoteDetail(result.data);
                        }
                    });
                    
                    searchResults.appendChild(resultElement);
                });
            }
            
            // ====== –ù–ê–°–¢–†–û–ô–ö–ò ======
            handleSettingsAction(action) {
                switch(action) {
                    case 'export':
                        this.exportData();
                        break;
                    case 'import':
                        this.importData();
                        break;
                    case 'backup':
                        this.createBackup();
                        break;
                    case 'clear':
                        this.clearData();
                        break;
                }
            }
            
            // –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
            exportData() {
                const data = {
                    tasks: this.data.tasks,
                    notes: this.data.notes,
                    transactions: this.data.transactions,
                    diary: this.data.diary,
                    exportDate: new Date().toISOString()
                };
                
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `smart-life-backup-${new Date().toISOString().split('T')[0]}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                this.showNotification('–î–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã', 'success');
            }
            
            // –ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
            importData() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (!file) return;
                    
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const data = JSON.parse(e.target.result);
                            
                            // –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–∞
                            if (confirm('–ó–∞–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                                this.data.tasks = data.tasks || [];
                                this.data.notes = data.notes || [];
                                this.data.transactions = data.transactions || [];
                                this.data.diary = data.diary || [];
                                
                                this.saveData();
                                this.renderTasks();
                                this.renderNotes();
                                this.renderTransactions();
                                this.updateDashboard();
                                this.renderCalendar();
                                
                                this.showNotification('–î–∞–Ω–Ω—ã–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã', 'success');
                            }
                        } catch (error) {
                            this.showNotification('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ —Ñ–∞–π–ª–∞', 'error');
                        }
                    };
                    reader.readAsText(file);
                };
                
                input.click();
            }
            
            // –°–æ–∑–¥–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é
            createBackup() {
                this.saveData();
                this.showNotification('–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Å–æ–∑–¥–∞–Ω–∞', 'success');
            }
            
            // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
            clearData() {
                if (confirm('–£–¥–∞–ª–∏—Ç—å –í–°–ï –¥–∞–Ω–Ω—ã–µ? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                    this.data.tasks = [];
                    this.data.notes = [];
                    this.data.transactions = [];
                    this.data.diary = [];
                    
                    this.saveData();
                    this.renderTasks();
                    this.renderNotes();
                    this.renderTransactions();
                    this.updateDashboard();
                    this.renderCalendar();
                    
                    this.showNotification('–í—Å–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã', 'success');
                }
            }
            
            // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            showNotification(message, type = 'info') {
                const container = document.getElementById('notificationContainer');
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.textContent = message;
                
                // –¶–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
                if (type === 'error') {
                    notification.style.background = '#ef4444';
                } else if (type === 'warning') {
                    notification.style.background = '#f59e0b';
                } else if (type === 'success') {
                    notification.style.background = '#10b981';
                }
                
                container.appendChild(notification);
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    notification.style.animation = 'slideInRight 0.3s ease reverse';
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            // –°–æ–∑–¥–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
            window.app = new SmartLifeOrganizer();
            
            // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ –¥–≤–æ–π–Ω–æ–º —Ç–∞–ø–µ
            let lastTouchEnd = 0;
            document.addEventListener('touchend', (event) => {
                const now = Date.now();
                if (now - lastTouchEnd <= 300) {
                    event.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ö
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('transactionDate').value = today;
            document.getElementById('taskDueDate').value = today;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            setTimeout(() => {
                window.app.showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Smart Life!', 'success');
            }, 1000);
        });
    </script>
</body>
</html>
